ARXH:
	CALL KIND ; CALL THE ROUTINE KIND TO GET INPUT FROM KEYBOARD
	CPI 00H ;CHECK IF THE INPUT IS ZERO
	JZ NOT_ALLOWED ;IF IT IS JMP TO ZERO WERE WE JUST OSET OFF ALL THE LIGHTS
	CPI 09H ;WE CHECK IF THE INPUT IS LESS THAN 9
	JNC NOT_ALLOWED ;IF IT NOT WE SET ALL THE LIGHTS OFF ELSE WE MOVE ON 
	MOV B,A ;GET A COPY OF A INTO REG B
	MVI C,00H ; C CONTAINS THE FINAL RESULT AND IT USES THE POWERS OF TWO	
	MVI D,01H ;WE INITIALIZE D TO 1 WHICH IS THE FIRST POWER OF 2


POWERS:
	MOV A,B ; MOVE THE VALUE OF THE ACCUMULATOR BACK TO A
	CPI 01H ; CHECK IF THE RESULT IS ONE AND IF SO WE JUMP TP FINISH
	JZ FINISH ; WE CHOOSE 1 BECASUE WE WANT THE LEDS FROM THE INPUT 
	;LOCATION AND THEN TO BE ON
	MOV A,C ; A GETS THE CONTENT OF REGISTER C 
	ADD D ; WE ADD THE NEXT POWER OF TWO 
	MOV C,A ; AND WE STORE THE NEW VALUE TO C
	DCR B ;B = B-1
	MOV A,D ; A TAKES THE CURRENT POWER OF AND IT SHIFTS IT ONE POSITION LEFT
	RLC ; PRACTICALLY IN DECIMAL D=2*D ; 
	MOV D,A ; WE MOVE THE FRSH RESULT TO REGISTER D
	JMP POWERS ; ITERATE 

FINISH:
	MOV A,C ; SAVE THE FINAL RESULT TO A
	JMP OUTPUT

OUTPUT: 
	STA 3000H ; SAVE THE RESULT IN THE OUTPUT PORT
	JMP ARXH ; RESTART THE PROGRAM


NOT_ALLOWED:
	MVI A,FFH ; SET ALL THE LEDS OFF
	STA 3000H ; SAVE THE RESULT 
	JMP ARXH ; IN ORDER PROGRAM TO RUN FOREVER
END